# Replit Build Prompt â€” Add Questionnaire Builder (Client Intake Dashboard)

## ğŸ¯ Goal
Extend the **Wellio MVP** with a new **Questionnaire Builder** â€” a separate page in the sidebar (no lock icon).  
This feature allows coaches to **create custom client intake forms** (similar to Google Forms), send them to clients, and automatically generate client profiles when responses are submitted.

---

## ğŸ§­ Navigation & Placement
Add a new **menu item**:
- **Questionnaires** (no lock icon)
  - Appears between **Client Management** and **Progress Analytics**
  - Clicking it opens the **Questionnaire Dashboard** (new page)

---

## ğŸ“„ Questionnaire Dashboard (new page)
This page lists all created questionnaires and allows coaches to build new ones.

### Layout
- **Header:** â€œQuestionnairesâ€ + `New Questionnaire` button (primary CTA)
- **List/Table view:**  
  Columns: `Name`, `Status (Draft / Published)`, `Responses`, `Last Updated`, `Actions`
- **Actions menu per row:** Edit, Preview, Duplicate, Archive, Delete
- **Empty state:**  
  â€œNo questionnaires yet. Create your first intake form to onboard clients faster.â€  
  Button â†’ `Create Questionnaire`

### Actions
- **Create Questionnaire** â†’ opens the **Questionnaire Builder Editor**
- **Edit Questionnaire** â†’ open builder pre-filled with existing questions
- **Preview** â†’ opens a mock client-facing version
- **Publish** â†’ enables sending this questionnaire to clients
- **Archive** â†’ hides from dropdowns (but keeps data)

---

## ğŸ›  Questionnaire Builder Editor
A simplified â€œGoogle Formsâ€â€“style editor for creating or editing forms.

### Left (Main Canvas)
- List of questions (each card includes label, type, required toggle)
- Question types: Short text, Paragraph, Multiple choice, Checkboxes, Dropdown, Date, Number
- Drag-and-drop reordering

### Right (Sidebar)
- Form properties:
  - Form name
  - Welcome text
  - Consent text (toggle required)
  - Confirmation message (text)
- Default fields (cannot be removed):
  - First Name, Last Name, Email, Phone
  - These appear at the top for consistency

### Buttons / Controls
- `+ Add Question`  
- `Preview` (opens modal or new page)
- `Save Draft` / `Publish`

---

## ğŸ’¬ Client Creation Flow Integration
Modify the **Client Management** â€œNew Clientâ€ modal to include two creation options:
1. **Add Manually** â€” existing flow remains unchanged.
2. **Send Questionnaire** â€” new flow.

### â€œSend Questionnaireâ€ flow:
1. Coach enters **Client Name** (required).
2. Selects a **Questionnaire Template** from a dropdown (populated from published questionnaires).
3. Clicks **Send** â†’ form is â€œsentâ€ (simulate sending for MVP).
4. A new **client record** appears in the Client List:
   - Status = `Pending`
   - Basic info = name + placeholder
   - Once â€œresponseâ€ (mocked submission) is received, the client profile auto-updates with parsed questionnaire data and status changes to `Active`.

*(For MVP, mock the submission process â€” clicking a button like â€œSimulate Responseâ€ can auto-fill data back into the clientâ€™s profile.)*

---

## ğŸ§© Data Structure (extend existing)
### `Questionnaire`
- `id`
- `name`
- `status` (â€œdraftâ€ | â€œpublishedâ€)
- `questions[]` (array of question objects)
  - `id`, `label`, `type`, `isRequired`, `options[]`
- `createdAt`, `updatedAt`

### `Client`
- Extend with optional:
  - `intakeSource`: â€œmanualâ€ | â€œquestionnaireâ€
  - `questionnaireId` (if applicable)
  - `status`: â€œpendingâ€ until intake form parsed

### `Response` (mocked for MVP)
- `id`
- `questionnaireId`
- `clientId`
- `answers[]` (key/value pairs)

---

## ğŸ§  Functionality Summary

### Questionnaire Dashboard
âœ… View existing questionnaires  
âœ… Create new form  
âœ… Edit, Duplicate, Archive  
âœ… Publish / Unpublish  
âœ… Preview form

### Questionnaire Builder
âœ… Add, remove, reorder questions  
âœ… Default required client info fields (cannot be deleted)  
âœ… Save as draft or publish  
âœ… Simple validation (required fields, text/number types)

### Client Management
âœ… â€œNew Clientâ€ modal:
   - Option A: Add manually (existing)
   - Option B: Send via questionnaire (new)
âœ… Pending client records appear automatically
âœ… Simulate automatic profile creation once questionnaire data returns

---

## ğŸ’ Design
- Follow Wellioâ€™s existing style (lime `#E2F9AD`, teal `#28A0AE`).
- Keep consistent sidebar, header, and card layout.
- Questionnaire list view matches the same visual pattern as Client Management.

---

## ğŸš« Out of Scope for MVP
- Real email sending or form hosting (simulate locally).
- External integrations.
- Response analytics (may be added later).

---

## âœ… Acceptance Criteria
- â€œQuestionnairesâ€ tab appears and is functional.
- I can create, edit, and publish a custom form with default client fields.
- From â€œClient Managementâ€ â†’ â€œ+ New Clientâ€ â†’ I can send a questionnaire.
- A pending client profile appears once sent.
- I can simulate a completed form â†’ client profile populates automatically.
- All other existing pages (Dashboard, Client Management, Chat) continue to work as before.
